<!DOCTYPE html>
<html>

  <head>
    <script data-require="d3@4.0.0" data-semver="4.0.0" src="https://d3js.org/d3.v4.min.js"></script>
  </head>

  <body>
    
    <script>
    
    // number of rects
    var squarenum = 48;

    if (squarenum > 33) {
          var rows = Math.floor(squarenum/33);
          var rowarr = Array(rows).fill(33);
          var rem = squarenum % 33;
          data.push(rem);
          console.log(data);
          return data;
        }
         
    var squareDim = 10, // pixel dimensions of square
        width = 400;
        height = 400;// based on the max of my squares, how tall am I going to be
        
    var svg = d3.select('body')
      .append('svg')
      .attr('width', width)
      .attr('height', height); // create my svg node
    
    var row = 0;
    svg.selectAll('rectGroup')
      .data(data)
      .enter()
      .append('g') // for each data point create a group
      .selectAll('rect')
      .data(function(d){
          return d3.range(d); // this creates an array of [1, 2, 3 ... N] where N is a datum in your rect data
        }
      }) // this is a sub selection, it allows you to define a sub dataset
      .enter()
      .append('rect')
      .attr('width', squareDim)
      .attr('height', squareDim)
      .attr('x', function(d,i,j){
        return d * (squareDim + 2);
      }) // determine the x position
      .attr('y', function(d, i, j){
        return data.indexOf(j.length) * (squareDim + 2);   // and y
      })
      .style('fill', '#c62828');
      
    </script>
    
  </body>

</html>
